# 프로젝트 초기 정리 (INIT)

- 개요: 정리완료.xlsx를 업로드해 학급/학생별 이수학점을 탐색하는 React 대시보드.
- 스택: React 18, TypeScript, Vite, Tailwind CSS, xlsx.
- 위치: `deshboard/` (현재 디렉터리 기준).

## 실행 방법
- 설치: `npm install`
- 개발 서버: `npm run dev` (Vite)
- 빌드: `npm run build` → 미리보기: `npm run preview`

## 디렉터리 구조 요약
- `index.html`: 앱 마운트 루트 (`#root`).
- `src/`
  - `main.tsx`: React 엔트리, `App` 렌더.
  - `App.tsx`: 업로드/요약/필터/표 UI 전반 로직.
  - `index.css`: Tailwind 유틸 + 공용 컴포넌트 스타일(card/btn/input 등).
  - `types.ts`: 데이터 타입 정의(`Row`, `Dataset`).
- 설정/툴링
  - `vite.config.ts`: Vite + React 플러그인.
  - `tailwind.config.js`: `sage` 컬러 팔레트 확장, 소스 경로 지정.
  - `postcss.config.js`: Tailwind, Autoprefixer 활성화.
  - `tsconfig*.json`: TS 컴파일 옵션.
  - `package.json`: 스크립트/의존성.

## 데이터 스키마 (정리완료.xlsx)
- 컬럼: `학년`, `반`, `번호`, `이름`, `과목학년`, `과목학기`, `교과`, `과목명`, `학점` (고정 헤더).
- 파싱: 첫 번째 시트만 사용, 빈값은 `null` 처리. 숫자/문자 변환 보정(`toNum`, `toStr`).

## 주요 동작 흐름
- 업로드: `<input type="file" accept=".xlsx,.xls">` → `XLSX.read` → `sheet_to_json({ header:1, defval:null })` → `rows` 구성.
- KPI: 전체 행 수, 고유 학생 수(학년-반-번호 키), 학생당 평균 학점.
- 전체 요약: 교과(`교과`)별 총 학점 집계 바 차트 스타일 막대.
- 학급/학생 선택: `학년-반` 드롭다운 → 학생 리스트 필터(이름/번호 포함 검색).
- 학생 상세: 교과별 학점 합계, 과목 상세 테이블(과목명/학점/과목학년/과목학기).
- 표 미리보기: 전체 데이터 중 최대 100행 스냅샷.

### 교과 그룹 정규화 규칙
- 다음 교과명은 하나의 그룹으로 묶습니다: `기술・가정/제2외국어/한문/교양`.
- 아래 값이 나타나면 모두 위 그룹으로 정규화됩니다:
  - `교양`, `제2외국어`, `한문`, `기술・가정`, `기술・가정/정보`
  - 중점/구분 기호는 `·`, `⋅`, `•`, `∙`, `ㆍ`, `・`를 모두 `・`로 통일합니다.
  - 전각 슬래시는 `／` → `/`로 통일하고, 구분자 주변 공백을 제거해 비교합니다.
  - 괄호 내부의 공백은 제거하여 비교합니다. 예: `사회(역사/도덕 포함)` → `사회(역사/도덕포함)`.

## 스타일 가이드
- Tailwind 적용, 사용자 정의 색상 `sage` 팔레트.
- 공용 유틸 클래스
  - `card`, `btn`(`-primary`, `-ghost`), `input`, `select`, `kpi-*`.

## 제약/주의사항
- 첫 번째 시트만 처리, 헤더명이 정확히 일치해야 함(한글 컬럼명).
- 대용량 최적화 미적용(표는 100행 미리보기, 나머지는 집계 위주).
- 브라우저 내 처리(서버 없음), 영속 저장/내보내기 기능 없음.

## 향후 개선 아이디어
- 스키마 유효성 검사 및 업로드 오류 메시지.
- 학기/교과/점수 범위 필터, 정렬 옵션.
- CSV/XLSX 내보내기, 즐겨찾기/공유용 퍼머링크.
- 시각화 보강(학기/학년별 추이, 분포 차트).
- 다중 시트/파일 머지, 모바일 UI 최적화.
